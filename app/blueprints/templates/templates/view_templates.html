{% from "macros/wtfToGovUk.html" import input %}
{%- from "govuk_frontend_jinja/components/file-upload/macro.html" import govukFileUpload -%}
{%- from "govuk_frontend_jinja/components/button/macro.html" import govukButton -%}

{% extends "base.html" %}
{% set pageHeading %}
    View All Templates
{% endset %}
{% block content %}
    <div class="govuk-grid-row">
        <h1 class="govuk-heading-l">{{pageHeading}}</h1>
    </div>
    <div class="govuk-grid-row">
        <h2 class="govuk-heading-m">Sections</h2>
        <ul class="govuk-body">
        {% for section in sections %}
           <li> {{section.template_name}}</li>
        {% endfor %}</ul>
    </div>
    <div class="govuk-grid-row">
        <h2 class="govuk-heading-m">Forms</h2>
        <ul class="govuk-body">
        {% for form in forms %}
            <li class="govuk-body"><a class="govuk-link" href="{{url_for('build_fund_bp.preview_form', form_id=form.form_id)}}">{{form.template_name}}</a></li>
        {% endfor %}</ul>
    </div>
    <div class="govuk-grid-row">
        <div class="govuk-form-group">
                 <div>
                    {% if uploadform.error %}
                    <span class ="govuk-error-message">
                        <span class="govuk-visually-hidden">Error:</span>{{ uploadform.error }}
                    </span>
                    {% endif %}
                </div>
                <fieldset class="govuk-fieldset">
                    <form method="POST" enctype="multipart/form-data">
                        {{ uploadform.hidden_tag()}}

                        {{ input(uploadform.template_name)}}
                        {{ govukFileUpload(uploadform.file) }}
                        {{ govukButton({"text": "Add"}) }}
                    </form>
                </fieldset>
        </div>
    </div>
{% endblock %}
